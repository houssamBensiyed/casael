
   PASS  Tests\Unit\ExampleTest
  Γ£ô that true is true                       0.08s  

   PASS  Tests\Feature\AdminMiddlewareTest
  Γ£ô admin user can access admin-protectedΓÇª  0.88s  
  Γ£ô regular user gets 403 on admin-protectΓÇª 0.05s  
  Γ£ô guest user is redirected to login on aΓÇª 0.02s  
  Γ£ô admin who is also banned gets blockedΓÇª  0.04s  

   PASS  Tests\Feature\Auth\AuthenticationTest
  Γ£ô login screen can be rendered            0.04s  
  Γ£ô users can authenticate using the loginΓÇª 0.06s  
  Γ£ô users can not authenticate with invaliΓÇª 0.25s  
  Γ£ô users can logout                        0.05s  

   PASS  Tests\Feature\Auth\EmailVerificationTest
  Γ£ô email verification screen can be rendeΓÇª 0.04s  
  Γ£ô email can be verified                   0.06s  
  Γ£ô email is not verified with invalid hasΓÇª 0.03s  

   PASS  Tests\Feature\Auth\LoginTest
  Γ£ô login page is accessible                0.03s  
  Γ£ô user can login with correct credentialΓÇª 0.02s  
  Γ£ô user cannot login with wrong password   0.24s  
  Γ£ô banned user cannot login                0.04s  
  Γ£ô authenticated user can access dashboarΓÇª 0.04s  
  Γ£ô guest cannot access dashboard           0.03s  
  Γ£ô user can logout                         0.02s  

   PASS  Tests\Feature\Auth\PasswordConfirmationTest
  Γ£ô confirm password screen can be rendereΓÇª 0.03s  
  Γ£ô password can be confirmed               0.03s  
  Γ£ô password is not confirmed with invalidΓÇª 0.25s  

   PASS  Tests\Feature\Auth\PasswordResetTest
  Γ£ô reset password link screen can be rendΓÇª 0.07s  
  Γ£ô reset password link can be requested    0.30s  
  Γ£ô reset password screen can be rendered   0.31s  
  Γ£ô password can be reset with valid token  0.31s  

   PASS  Tests\Feature\Auth\PasswordUpdateTest
  Γ£ô password can be updated                 0.06s  
  Γ£ô correct password must be provided to uΓÇª 0.02s  

   PASS  Tests\Feature\Auth\RegistrationTest
  Γ£ô registration page is accessible         0.07s  
  Γ£ô a new user can register                 0.06s  
  Γ£ô first registered user is auto-promotedΓÇª 0.03s  
  Γ£ô second registered user is NOT promotedΓÇª 0.02s  
  Γ£ô registration fails with invalid data    0.03s  
  Γ£ô registration fails with duplicate emaiΓÇª 0.05s  

   PASS  Tests\Feature\BannedMiddlewareTest
  Γ£ô non-banned user can access authenticatΓÇª 0.07s  
  Γ£ô banned user is logged out and redirectΓÇª 0.05s  
  Γ£ô banned user sees error message on rediΓÇª 0.04s  
  Γ£ô banned user cannot access profile page  0.05s  
  Γ£ô banned user session is invalidated      0.06s  
  Γ£ô login page is still accessible for banΓÇª 0.05s  

   PASS  Tests\Feature\CategoryTest
  Γ£ô active member can create category       0.12s  
  Γ£ô non-member cannot create category       0.06s  
  Γ£ô cannot create category on cancelled coΓÇª 0.05s  
  Γ£ô active member can update category       0.08s  
  Γ£ô non-member cannot update category       0.06s  
  Γ£ô owner can delete category               0.06s  
  Γ£ô member cannot delete category           0.09s  

   PASS  Tests\Feature\ColocationTest
  Γ£ô guest is redirected to login on colocaΓÇª 0.04s  
  Γ£ô user sees their colocations on index    0.05s  
  Γ£ô authenticated user can view create forΓÇª 0.04s  
  Γ£ô user with active colocation is redirecΓÇª 0.03s  
  Γ£ô user can create colocation and is autoΓÇª 0.04s  
  Γ£ô user with active colocation cannot creΓÇª 0.03s  
  Γ£ô store validation requires name          0.02s  
  Γ£ô member can view colocation              0.06s  
  Γ£ô non-member cannot view colocation       0.06s  
  Γ£ô owner can view edit form                0.08s  
  Γ£ô non-owner cannot view edit form         0.06s  
  Γ£ô owner can update colocation name and dΓÇª 0.05s  
  Γ£ô non-owner cannot update colocation      0.06s  
  Γ£ô owner can cancel colocation             0.05s  
  Γ£ô non-owner cannot cancel colocation      0.04s  
  Γ£ô already cancelled colocation cannot beΓÇª 0.06s  
  Γ£ô member can leave colocation             0.05s  
  Γ£ô owner cannot leave colocation           0.05s  
  Γ£ô non-member cannot leave colocation      0.06s  
  Γ£ô owner can remove a member               0.05s  
  Γ£ô owner cannot remove themselves          0.05s  
  Γ£ô non-owner cannot remove members         0.05s  
  Γ£ô cannot remove member from cancelled coΓÇª 0.03s  

   PASS  Tests\Feature\ExampleTest
  Γ£ô it returns a successful response        0.05s  

   FAIL  Tests\Feature\ExpenseTest
  Γ£ô active member can create expense        0.04s  
  Γ¿» expense can be created without categorΓÇª 1.87s  
  Γ£ô non-member cannot create expense        0.05s  
  Γ£ô cannot create expense on cancelled colΓÇª 0.05s  
  Γ£ô cannot use category from another colocΓÇª 0.03s  
  Γ£ô validation rejects invalid amount       0.03s  
  Γ£ô payer can update their expense          0.07s  
  Γ¿» owner can update any expense            1.12s  
  Γ£ô other member cannot update expense      0.04s  
  Γ£ô payer can delete their expense          0.04s  
  Γ£ô owner can delete any expense            0.03s  
  Γ£ô other member cannot delete expense      0.03s  

   PASS  Tests\Feature\InvitationTest
  Γ£ô owner can send invitation               0.04s  
  Γ£ô non-owner cannot send invitation        0.05s  
  Γ£ô cannot send invitation to existing actΓÇª 0.04s  
  Γ£ô cannot send invitation to user with acΓÇª 0.03s  
  Γ£ô cannot send duplicate pending invitatiΓÇª 0.05s  
  Γ£ô cannot send invitation on cancelled coΓÇª 0.06s  
  Γ£ô user can accept invitation              0.06s  
  Γ£ô user cannot accept invitation meant foΓÇª 0.05s  
  Γ£ô user with active colocation cannot accΓÇª 0.04s  
  Γ£ô cannot accept invitation for cancelledΓÇª 0.06s  
  Γ£ô user can refuse invitation              0.03s  
  Γ£ô user cannot refuse invitation meant foΓÇª 0.02s  
  Γ£ô owner can cancel pending invitation     0.02s  
  Γ£ô non-owner cannot cancel invitation      0.04s  
  Γ£ô owner cannot cancel already accepted iΓÇª 0.09s  

   PASS  Tests\Feature\ModelRelationshipTest
  Γ£ô colocation belongs to an owner          0.05s  
  Γ£ô colocation has many members through piΓÇª 0.03s  
  Γ£ô colocation activeMembers excludes userΓÇª 0.03s  
  Γ£ô colocation has many invitations         0.02s  
  Γ£ô colocation has many categories          0.03s  
  Γ£ô colocation has many expenses            0.03s  
  Γ£ô colocation has many settlements         0.04s  
  Γ£ô colocation active scope filters correcΓÇª 0.03s  
  Γ£ô invitation belongs to colocation        0.04s  
  Γ£ô category belongs to colocation          0.05s  
  Γ£ô category has many expenses              0.05s  
  Γ£ô expense belongs to payer                0.04s  
  Γ£ô expense belongs to colocation and cateΓÇª 0.05s  
  Γ£ô expense casts amount as decimal and daΓÇª 0.08s  
  Γ£ô settlement belongs to fromUser and toUΓÇª 0.05s  
  Γ£ô settlement casts is_paid as boolean     0.03s  
  Γ£ô user has active colocation returns corΓÇª 0.02s  
  Γ£ô user colocations returns all membershiΓÇª 0.04s  
  Γ£ô user expenses returns expenses paid byΓÇª 0.03s  
  Γ£ô user isOwnerOf returns true for ownedΓÇª  0.03s  

   PASS  Tests\Feature\ProfileTest
  Γ£ô profile page is displayed               0.13s  
  Γ£ô profile information can be updated      0.05s  
  Γ£ô email verification status is unchangedΓÇª 0.06s  
  Γ£ô user can delete their account           0.05s  
  Γ£ô correct password must be provided to dΓÇª 0.06s  

   PASS  Tests\Feature\UserModelTest
  Γ£ô user has default role of user           0.05s  
  Γ£ô user has default reputation of 0        0.05s  
  Γ£ô user is not banned by default           0.04s  
  Γ£ô isAdmin returns true for admin users    0.04s  
  Γ£ô isAdmin returns false for regular userΓÇª 0.05s  
  Γ£ô isBanned returns true when user is banΓÇª 0.05s  
  Γ£ô isBanned returns false when user is noΓÇª 0.03s  
  Γ£ô reputation can be incremented           0.03s  
  Γ£ô reputation can be decremented           0.05s  
  ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ  
   FAILED  Tests\Feature\ExpenseTest > expenseΓÇª    
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: expenses.category_id in C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php:584
Stack trace:
#0 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(584): PDOStatement->execute()
#1 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(827): Illuminate\Database\Connection->{closure:Illuminate\Database\Connection::statement():573}('insert into "ex...', Array)
#2 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(794): Illuminate\Database\Connection->runQueryCallback('insert into "ex...', Array, Object(Closure))
#3 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(573): Illuminate\Database\Connection->run('insert into "ex...', Array, Object(Closure))
#4 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(537): Illuminate\Database\Connection->statement('insert into "ex...', Array)
#5 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert('insert into "ex...', Array)
#6 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(4103): Illuminate\Database\Query\Processors\Processor->processInsertGetId(Object(Illuminate\Database\Query\Builder), 'insert into "ex...', Array, 'id')
#7 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2235): Illuminate\Database\Query\Builder->insertGetId(Array, 'id')
#8 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1436): Illuminate\Database\Eloquent\Builder->__call('insertGetId', Array)
#9 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1401): Illuminate\Database\Eloquent\Model->insertAndSetId(Object(Illuminate\Database\Eloquent\Builder), Array)
#10 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1240): Illuminate\Database\Eloquent\Model->performInsert(Object(Illuminate\Database\Eloquent\Builder))
#11 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Relations\HasOneOrMany.php(387): Illuminate\Database\Eloquent\Model->save()
#12 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Support\helpers.php(388): Illuminate\Database\Eloquent\Relations\HasOneOrMany->{closure:Illuminate\Database\Eloquent\Relations\HasOneOrMany::create():384}(Object(App\Models\Expense))
#13 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Relations\HasOneOrMany.php(384): tap(Object(App\Models\Expense), Object(Closure))
#14 C:\Users\houss\Herd\casael\app\Http\Controllers\ExpenseController.php(36): Illuminate\Database\Eloquent\Relations\HasOneOrMany->create(Array)
#15 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\ExpenseController->store(Object(Illuminate\Http\Request), Object(App\Models\Colocation))
#16 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\ExpenseController), 'store')
#17 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#18 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#19 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#20 C:\Users\houss\Herd\casael\app\Http\Middleware\EnsureNotBanned.php(27): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#21 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): App\Http\Middleware\EnsureNotBanned->handle(Object(Illuminate\Http\Request), Object(Closure))
#22 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#23 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#32 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#33 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#34 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#35 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#36 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#37 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#38 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#39 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#40 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#41 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#42 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#43 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#44 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#45 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#46 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#47 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#48 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#49 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#50 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#51 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#52 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#53 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#57 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#58 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#59 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#60 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#61 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#62 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#63 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#64 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#65 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#66 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call('POST', 'http://casael.t...', Array, Array, Array, Array)
#67 C:\Users\houss\Herd\casael\tests\Feature\ExpenseTest.php(54): Illuminate\Foundation\Testing\TestCase->post('http://casael.t...', Array)
#68 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Factories\TestCaseMethodFactory.php(168): P\Tests\Feature\ExpenseTest->{closure:C:\Users\houss\Herd\casael\tests\Feature\ExpenseTest.php:50}()
#69 [internal function]: P\Tests\Feature\ExpenseTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#70 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(429): call_user_func_array(Object(Closure), Array)
#71 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Support\ExceptionTrace.php(26): P\Tests\Feature\ExpenseTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#72 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#73 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(331): P\Tests\Feature\ExpenseTest->__callClosure(Object(Closure), Array)
#74 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Factories\TestCaseFactory.php(169) : eval()'d code(26): P\Tests\Feature\ExpenseTest->__runTest(Object(Closure))
#75 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(1332): P\Tests\Feature\ExpenseTest->__pest_evaluable_expense_can_be_created_without_category()
#76 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#77 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#78 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\ExpenseTest))
#79 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#80 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#81 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#82 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#83 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\TextUI\Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#84 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#85 C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle(Array, Array)
#86 C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest(192): {closure:C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest:18}()
#87 {main}

Next Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: expenses.category_id (Connection: sqlite, Database: :memory:, SQL: insert into "expenses" ("title", "amount", "date", "category_id", "payer_id", "colocation_id", "updated_at", "created_at") values (Divers, 10, 2025-06-15 00:00:00, ?, 2, 1, 2026-02-23 11:49:39, 2026-02-23 11:49:39)) in C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php:838
Stack trace:
#0 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(794): Illuminate\Database\Connection->runQueryCallback('insert into "ex...', Array, Object(Closure))
#1 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(573): Illuminate\Database\Connection->run('insert into "ex...', Array, Object(Closure))
#2 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(537): Illuminate\Database\Connection->statement('insert into "ex...', Array)
#3 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php(32): Illuminate\Database\Connection->insert('insert into "ex...', Array)
#4 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(4103): Illuminate\Database\Query\Processors\Processor->processInsertGetId(Object(Illuminate\Database\Query\Builder), 'insert into "ex...', Array, 'id')
#5 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2235): Illuminate\Database\Query\Builder->insertGetId(Array, 'id')
#6 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1436): Illuminate\Database\Eloquent\Builder->__call('insertGetId', Array)
#7 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1401): Illuminate\Database\Eloquent\Model->insertAndSetId(Object(Illuminate\Database\Eloquent\Builder), Array)
#8 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1240): Illuminate\Database\Eloquent\Model->performInsert(Object(Illuminate\Database\Eloquent\Builder))
#9 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Relations\HasOneOrMany.php(387): Illuminate\Database\Eloquent\Model->save()
#10 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Support\helpers.php(388): Illuminate\Database\Eloquent\Relations\HasOneOrMany->{closure:Illuminate\Database\Eloquent\Relations\HasOneOrMany::create():384}(Object(App\Models\Expense))
#11 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Relations\HasOneOrMany.php(384): tap(Object(App\Models\Expense), Object(Closure))
#12 C:\Users\houss\Herd\casael\app\Http\Controllers\ExpenseController.php(36): Illuminate\Database\Eloquent\Relations\HasOneOrMany->create(Array)
#13 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\ExpenseController->store(Object(Illuminate\Http\Request), Object(App\Models\Colocation))
#14 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\ExpenseController), 'store')
#15 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#16 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#17 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#18 C:\Users\houss\Herd\casael\app\Http\Middleware\EnsureNotBanned.php(27): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#19 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): App\Http\Middleware\EnsureNotBanned->handle(Object(Illuminate\Http\Request), Object(Closure))
#20 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#21 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#22 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#23 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#30 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#31 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#32 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#33 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#34 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#35 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#36 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#37 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#38 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#39 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#40 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#41 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#42 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#43 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#44 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#46 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#47 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#48 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#49 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#50 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#51 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#52 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#53 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#57 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#58 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#59 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#60 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#61 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#62 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#63 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#64 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call('POST', 'http://casael.t...', Array, Array, Array, Array)
#65 C:\Users\houss\Herd\casael\tests\Feature\ExpenseTest.php(54): Illuminate\Foundation\Testing\TestCase->post('http://casael.t...', Array)
#66 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Factories\TestCaseMethodFactory.php(168): P\Tests\Feature\ExpenseTest->{closure:C:\Users\houss\Herd\casael\tests\Feature\ExpenseTest.php:50}()
#67 [internal function]: P\Tests\Feature\ExpenseTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#68 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(429): call_user_func_array(Object(Closure), Array)
#69 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Support\ExceptionTrace.php(26): P\Tests\Feature\ExpenseTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#70 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#71 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(331): P\Tests\Feature\ExpenseTest->__callClosure(Object(Closure), Array)
#72 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Factories\TestCaseFactory.php(169) : eval()'d code(26): P\Tests\Feature\ExpenseTest->__runTest(Object(Closure))
#73 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(1332): P\Tests\Feature\ExpenseTest->__pest_evaluable_expense_can_be_created_without_category()
#74 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#75 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#76 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\ExpenseTest))
#77 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#78 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#79 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#80 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#81 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\TextUI\Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#82 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#83 C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle(Array, Array)
#84 C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest(192): {closure:C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest:18}()
#85 {main}

----------------------------------------------------------------------------------

SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: expenses.category_id (Connection: sqlite, Database: :memory:, SQL: insert into "expenses" ("title", "amount", "date", "category_id", "payer_id", "colocation_id", "updated_at", "created_at") values (Divers, 10, 2025-06-15 00:00:00, ?, 2, 1, 2026-02-23 11:49:39, 2026-02-23 11:49:39))

  at tests\Feature\ExpenseTest.php:59
     55Γûò             'title' => 'Divers',
     56Γûò             'amount' => 10.00,
     57Γûò             'date' => '2025-06-15',
     58Γûò         ])
  Γ₧£  59Γûò         ->assertRedirect(route('colocations.show', $colocation))
     60Γûò         ->assertSessionHas('success');
     61Γûò 
     62Γûò     expect(Expense::first()->category_id)->toBeNull();
     63Γûò });

  ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ  
   FAILED  Tests\Feature\ExpenseTest > owner caΓÇª   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

PDOException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: expenses.category_id in C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php:609
Stack trace:
#0 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(609): PDOStatement->execute()
#1 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(827): Illuminate\Database\Connection->{closure:Illuminate\Database\Connection::affectingStatement():597}('update "expense...', Array)
#2 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(794): Illuminate\Database\Connection->runQueryCallback('update "expense...', Array, Object(Closure))
#3 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(597): Illuminate\Database\Connection->run('update "expense...', Array, Object(Closure))
#4 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(549): Illuminate\Database\Connection->affectingStatement('update "expense...', Array)
#5 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(4167): Illuminate\Database\Connection->update('update "expense...', Array)
#6 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1266): Illuminate\Database\Query\Builder->update(Object(Illuminate\Support\Collection))
#7 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1316): Illuminate\Database\Eloquent\Builder->update(Array)
#8 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1233): Illuminate\Database\Eloquent\Model->performUpdate(Object(Illuminate\Database\Eloquent\Builder))
#9 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1090): Illuminate\Database\Eloquent\Model->save(Array)
#10 C:\Users\houss\Herd\casael\app\Http\Controllers\ExpenseController.php(71): Illuminate\Database\Eloquent\Model->update(Array)
#11 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\ExpenseController->update(Object(Illuminate\Http\Request), Object(App\Models\Expense))
#12 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\ExpenseController), 'update')
#13 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#14 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#15 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#16 C:\Users\houss\Herd\casael\app\Http\Middleware\EnsureNotBanned.php(27): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#17 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): App\Http\Middleware\EnsureNotBanned->handle(Object(Illuminate\Http\Request), Object(Closure))
#18 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#19 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#20 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#21 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#22 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#23 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#28 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#29 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#30 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#31 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#32 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#33 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#34 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#35 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#36 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#37 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#38 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#39 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#40 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#41 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#42 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#44 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#46 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#47 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#48 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#49 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#50 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#51 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#52 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#53 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#57 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#58 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#59 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#60 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#61 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#62 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(427): Illuminate\Foundation\Testing\TestCase->call('PUT', 'http://casael.t...', Array, Array, Array, Array)
#63 C:\Users\houss\Herd\casael\tests\Feature\ExpenseTest.php(157): Illuminate\Foundation\Testing\TestCase->put('http://casael.t...', Array)
#64 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Factories\TestCaseMethodFactory.php(168): P\Tests\Feature\ExpenseTest->{closure:C:\Users\houss\Herd\casael\tests\Feature\ExpenseTest.php:147}()
#65 [internal function]: P\Tests\Feature\ExpenseTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#66 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(429): call_user_func_array(Object(Closure), Array)
#67 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Support\ExceptionTrace.php(26): P\Tests\Feature\ExpenseTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#68 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#69 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(331): P\Tests\Feature\ExpenseTest->__callClosure(Object(Closure), Array)
#70 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Factories\TestCaseFactory.php(169) : eval()'d code(80): P\Tests\Feature\ExpenseTest->__runTest(Object(Closure))
#71 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(1332): P\Tests\Feature\ExpenseTest->__pest_evaluable_owner_can_update_any_expense()
#72 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#73 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#74 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\ExpenseTest))
#75 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#76 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#77 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#78 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#79 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\TextUI\Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#80 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#81 C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle(Array, Array)
#82 C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest(192): {closure:C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest:18}()
#83 {main}

Next Illuminate\Database\QueryException: SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: expenses.category_id (Connection: sqlite, Database: :memory:, SQL: update "expenses" set "title" = Owner Edit, "amount" = 50, "date" = 2025-07-01 00:00:00, "category_id" = ?, "updated_at" = 2026-02-23 11:49:41 where "id" = 1) in C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php:838
Stack trace:
#0 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(794): Illuminate\Database\Connection->runQueryCallback('update "expense...', Array, Object(Closure))
#1 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(597): Illuminate\Database\Connection->run('update "expense...', Array, Object(Closure))
#2 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Connection.php(549): Illuminate\Database\Connection->affectingStatement('update "expense...', Array)
#3 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(4167): Illuminate\Database\Connection->update('update "expense...', Array)
#4 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1266): Illuminate\Database\Query\Builder->update(Object(Illuminate\Support\Collection))
#5 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1316): Illuminate\Database\Eloquent\Builder->update(Array)
#6 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1233): Illuminate\Database\Eloquent\Model->performUpdate(Object(Illuminate\Database\Eloquent\Builder))
#7 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1090): Illuminate\Database\Eloquent\Model->save(Array)
#8 C:\Users\houss\Herd\casael\app\Http\Controllers\ExpenseController.php(71): Illuminate\Database\Eloquent\Model->update(Array)
#9 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\ExpenseController->update(Object(Illuminate\Http\Request), Object(App\Models\Expense))
#10 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\ExpenseController), 'update')
#11 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#12 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#13 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#14 C:\Users\houss\Herd\casael\app\Http\Middleware\EnsureNotBanned.php(27): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#15 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): App\Http\Middleware\EnsureNotBanned->handle(Object(Illuminate\Http\Request), Object(Closure))
#16 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#17 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#18 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#19 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#20 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#21 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#22 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#23 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#26 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#27 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#28 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#29 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#30 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#31 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#32 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#33 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#34 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#35 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#36 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#37 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#38 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#39 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#40 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#44 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#45 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#46 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#47 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#48 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#49 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#50 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#51 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#52 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#53 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#57 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#58 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#59 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#60 C:\Users\houss\Herd\casael\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(427): Illuminate\Foundation\Testing\TestCase->call('PUT', 'http://casael.t...', Array, Array, Array, Array)
#61 C:\Users\houss\Herd\casael\tests\Feature\ExpenseTest.php(157): Illuminate\Foundation\Testing\TestCase->put('http://casael.t...', Array)
#62 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Factories\TestCaseMethodFactory.php(168): P\Tests\Feature\ExpenseTest->{closure:C:\Users\houss\Herd\casael\tests\Feature\ExpenseTest.php:147}()
#63 [internal function]: P\Tests\Feature\ExpenseTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#64 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(429): call_user_func_array(Object(Closure), Array)
#65 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Support\ExceptionTrace.php(26): P\Tests\Feature\ExpenseTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#66 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#67 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Concerns\Testable.php(331): P\Tests\Feature\ExpenseTest->__callClosure(Object(Closure), Array)
#68 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Factories\TestCaseFactory.php(169) : eval()'d code(80): P\Tests\Feature\ExpenseTest->__runTest(Object(Closure))
#69 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(1332): P\Tests\Feature\ExpenseTest->__pest_evaluable_owner_can_update_any_expense()
#70 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#71 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#72 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\ExpenseTest))
#73 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#74 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#75 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\Framework\TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#76 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#77 C:\Users\houss\Herd\casael\vendor\phpunit\phpunit\src\TextUI\Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#78 C:\Users\houss\Herd\casael\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#79 C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle(Array, Array)
#80 C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest(192): {closure:C:\Users\houss\Herd\casael\vendor\pestphp\pest\bin\pest:18}()
#81 {main}

----------------------------------------------------------------------------------

SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: expenses.category_id (Connection: sqlite, Database: :memory:, SQL: update "expenses" set "title" = Owner Edit, "amount" = 50, "date" = 2025-07-01 00:00:00, "category_id" = ?, "updated_at" = 2026-02-23 11:49:41 where "id" = 1)

  at tests\Feature\ExpenseTest.php:162
    158Γûò             'title' => 'Owner Edit',
    159Γûò             'amount' => 50,
    160Γûò             'date' => '2025-07-01',
    161Γûò         ])
  Γ₧£ 162Γûò         ->assertRedirect(route('colocations.show', $colocation))
    163Γûò         ->assertSessionHas('success');
    164Γûò 
    165Γûò     expect($expense->fresh()->title)->toBe('Owner Edit');
    166Γûò });


  Tests:    2 failed, 130 passed (304 assertions)
  Duration: 11.90s

